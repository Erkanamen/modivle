!function e(t,n,r){function o(a,u){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!u&&c)return c(a,!0);if(i)return i(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var f=n[a]={exports:{}};t[a][0].call(f.exports,function(e){var n=t[a][1][e];return o(n?n:e)},f,f.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){function r(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)"),n=t.exec(location.search);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))}var o=e("./storage.js"),i=e("./utils.js");!function(){o.check();var e=o.isLoggedIn(),t=i.isWelcomePage();if(!e&&!t){var n=r("token");return n?(o.saveToken(n),void i.redirectToMainPage()):void i.redirectToWelcomePage()}return e&&t?void i.redirectToMainPage():void 0}()},{"./storage.js":2,"./utils.js":3}],2:[function(e,t,n){var r=e("store");t.exports={check:function(){return r.enabled?void 0:void alert('Local storage is not supported by your browser. Please disable "Private Mode", or upgrade to a modern browser.')},isLoggedIn:function(){return!!r.get("token")},getToken:function(){return r.get("token")},saveToken:function(e){r.set("token",e)},logout:function(){r.clear()},saveState:function(e){return r.set("state",e)},getState:function(){return r.get("state")}}},{store:4}],3:[function(e,t,n){var r=function(e){var t=e.match(/(\d+)/g),n=new Date(t[0],t[1]-1,t[2],t[3],t[4],t[5]);return n},o=function(e){var t=Date.now()-e.getTime(),n=Math.round(Math.abs(t)/1e3),r=Math.round(n/60),o=Math.round(r/60),i=Math.round(o/24),a=Math.round(i/365),u=45>n&&"a few seconds"||1===r&&"a minute"||45>r&&r+" minutes"||1===o&&"an hour"||22>o&&o+" hours"||1===i&&"a day"||25>=i&&i+" days"||45>=i&&"a month"||345>i&&Math.round(i/30)+" months"||1===a&&"a year"||a+" years";return u+" ago"},i="/",a="/welcome.html",u=function(){return window.location.pathname==a},c=function(){var e=new RegExp("^(.+"+window.location.host+")");window.location.href=e.exec(window.location.href)[1]+i},s=function(){var e=new RegExp("^(.+"+window.location.host+")");window.location.href=e.exec(window.location.href)[1]+a},f=function(e){var t,n;for(t=["bytes","KB","MB","GB"],n=0;Math.floor(e).toString().length>3;)n++,e=parseInt(e,10),e/=1024;return Math.round(e)!==e&&(e=parseFloat(e,10).toFixed(2).toString().slice(0,6)),e+" "+t[n]};t.exports.nicedate=r,t.exports.readabledate=o,t.exports.isWelcomePage=u,t.exports.redirectToWelcomePage=s,t.exports.redirectToMainPage=c,t.exports.calcfilesize=f},{}],4:[function(e,t,n){!function(e){function n(){try{return u in e&&e[u]}catch(t){return!1}}function r(e){return e.replace(/^d/,"___$&").replace(v,"___")}var o,i={},a=e.document,u="localStorage",c="script";if(i.disabled=!1,i.version="1.3.17",i.set=function(e,t){},i.get=function(e,t){},i.has=function(e){return void 0!==i.get(e)},i.remove=function(e){},i.clear=function(){},i.transact=function(e,t,n){null==n&&(n=t,t=null),null==t&&(t={});var r=i.get(e,t);n(r),i.set(e,r)},i.getAll=function(){},i.forEach=function(){},i.serialize=function(e){return JSON.stringify(e)},i.deserialize=function(e){if("string"!=typeof e)return void 0;try{return JSON.parse(e)}catch(t){return e||void 0}},n())o=e[u],i.set=function(e,t){return void 0===t?i.remove(e):(o.setItem(e,i.serialize(t)),t)},i.get=function(e,t){var n=i.deserialize(o.getItem(e));return void 0===n?t:n},i.remove=function(e){o.removeItem(e)},i.clear=function(){o.clear()},i.getAll=function(){var e={};return i.forEach(function(t,n){e[t]=n}),e},i.forEach=function(e){for(var t=0;t<o.length;t++){var n=o.key(t);e(n,i.get(n))}};else if(a.documentElement.addBehavior){var s,f;try{f=new ActiveXObject("htmlfile"),f.open(),f.write("<"+c+">document.w=window</"+c+'><iframe src="/favicon.ico"></iframe>'),f.close(),s=f.w.frames[0].document,o=s.createElement("div")}catch(d){o=a.createElement("div"),s=a.body}var l=function(e){return function(){var t=Array.prototype.slice.call(arguments,0);t.unshift(o),s.appendChild(o),o.addBehavior("#default#userData"),o.load(u);var n=e.apply(i,t);return s.removeChild(o),n}},v=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");i.set=l(function(e,t,n){return t=r(t),void 0===n?i.remove(t):(e.setAttribute(t,i.serialize(n)),e.save(u),n)}),i.get=l(function(e,t,n){t=r(t);var o=i.deserialize(e.getAttribute(t));return void 0===o?n:o}),i.remove=l(function(e,t){t=r(t),e.removeAttribute(t),e.save(u)}),i.clear=l(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(u);for(var n,r=0;n=t[r];r++)e.removeAttribute(n.name);e.save(u)}),i.getAll=function(e){var t={};return i.forEach(function(e,n){t[e]=n}),t},i.forEach=l(function(e,t){for(var n,r=e.XMLDocument.documentElement.attributes,o=0;n=r[o];++o)t(n.name,i.deserialize(e.getAttribute(n.name)))})}try{var g="__storejs__";i.set(g,g),i.get(g)!=g&&(i.disabled=!0),i.remove(g)}catch(d){i.disabled=!0}i.enabled=!i.disabled,"undefined"!=typeof t&&t.exports&&this.module!==t?t.exports=i:"function"==typeof define&&define.amd?define(i):e.store=i}(Function("return this")())},{}]},{},[1]);